const p=e=>(t,c)=>{const s=t.constructor;Object.prototype.hasOwnProperty.call(s,"metadata")||(s.metadata={});const a=s.metadata;a.slots||(a.slots={});const o=a.slots;if(e!=null&&e.default&&o.default)throw new Error("Only one slot can be the default slot.");const n=e!=null&&e.default?"default":c;e=e||{type:HTMLElement},e.type||(e.type=HTMLElement),o[n]||(o[n]=e),e.default&&(delete o.default.default,o.default.propertyName=c),s.metadata.managedSlots=!0},l=new WeakMap,r=new WeakMap,E={attributes:!0,childList:!0,characterData:!0,subtree:!0},g=e=>{const t=e;return t.accessibleNameRef?v(e):t.accessibleName?t.accessibleName:void 0},v=e=>{var a;const t=((a=e.accessibleNameRef)==null?void 0:a.split(" "))??[],c=e.getRootNode();let s="";return t.forEach((o,n)=>{const i=c.querySelector(`[id='${o}']`),b=`${i&&i.textContent?i.textContent:""}`;b&&(s+=b,n<t.length-1&&(s+=" "))}),s},f=e=>{const t=new Set;u(e).forEach(o=>{t.add(o)});const s=e.accessibleNameRef;return((s==null?void 0:s.split(" "))??[]).forEach(o=>{const n=h(e,o);n&&t.add(n)}),Array.from(t)},u=e=>{const t=e.getRootNode().querySelectorAll(`[for="${e.id}"]`);return Array.from(t)},h=(e,t)=>e.getRootNode().querySelector(`[id='${t}']`),y=e=>{const t=[];if(u(e).forEach(s=>{const a=s.textContent;a&&t.push(a)}),t.length)return t.join(" ")},k=e=>c=>{if(!(c&&c.type==="property"&&c.name==="accessibleNameRef"))return;const s=r.get(e);if(!s)return;const a=s.observedElements,o=f(e);a.forEach(n=>{o.includes(n)||d(s,n)}),o.forEach(n=>{a.includes(n)||(m(s,n),s.observedElements.push(n))}),s==null||s.callback()},A=(e,t)=>{if(r.has(e))return;const c=f(e),s=k(e),a={host:e,observedElements:c,callback:t,invalidationCallback:s};r.set(e,a),e.attachInvalidate(s),c.forEach(o=>{m(a,o)}),t()},m=(e,t)=>{let c=l.get(t);if(!c){c={observer:null,callbacks:[]};const s=new MutationObserver(()=>{c.callbacks.forEach(n=>{n()});const o=document.getElementById(t.id);e.host.id===t.getAttribute("for")||o||d(e,t)});c.observer=s,s.observe(t,E),l.set(t,c)}c.callbacks.includes(e.callback)||c.callbacks.push(e.callback)},d=(e,t)=>{var s;const c=l.get(t);c&&(c.callbacks=c.callbacks.filter(a=>a!==e.callback),c.callbacks.length||((s=c.observer)==null||s.disconnect(),l.delete(t))),e.observedElements=e.observedElements.filter(a=>a!==t)},N=e=>{const t=r.get(e);if(!t)return;[...t.observedElements].forEach(s=>{d(t,s)}),e.detachInvalidate(t.invalidationCallback),r.delete(e)};export{y as a,v as b,N as d,g,A as r,p as s};
//# sourceMappingURL=AriaLabelHelper-c82262ef.js.map
