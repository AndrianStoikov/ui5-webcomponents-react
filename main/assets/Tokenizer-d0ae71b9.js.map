{"version":3,"file":"Tokenizer-d0ae71b9.js","sources":["../../node_modules/@ui5/webcomponents/dist/generated/templates/TokenizerTemplate.lit.js","../../node_modules/@ui5/webcomponents/dist/generated/templates/TokenizerPopoverTemplate.lit.js","../../node_modules/@ui5/webcomponents/dist/generated/themes/Tokenizer.css.js","../../node_modules/@ui5/webcomponents/dist/generated/themes/TokenizerPopover.css.js","../../node_modules/@ui5/webcomponents/dist/Tokenizer.js"],"sourcesContent":["/* eslint no-unused-vars: 0 */\nimport { html, svg, repeat, classMap, styleMap, ifDefined, unsafeHTML, scopeTag } from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\n\nconst block0 = (context, tags, suffix) => html`<div class=\"${classMap(context.classes.wrapper)}\"><span id=\"${ifDefined(context._id)}-hiddenText\" class=\"ui5-hidden-text\">${ifDefined(context.tokenizerLabel)}</span><div class=\"${classMap(context.classes.content)}\" @ui5-delete=\"${ifDefined(context._delete)}\" @click=\"${context._click}\" @mousedown=\"${context._onmousedown}\" @keydown=\"${context._onkeydown}\" role=\"listbox\" aria-labelledby=\"${ifDefined(context._id)}-hiddenText\">${ repeat(context.tokens, (item, index) => item._id || index, (item, index) => block1(item, index, context, tags, suffix)) }</div>${ context.showNMore ? block2(context, tags, suffix) : undefined }</div>`;\nconst block1 = (item, index, context, tags, suffix) => html`<slot name=\"${ifDefined(item._individualSlot)}\"></slot>`;\nconst block2 = (context, tags, suffix) => html`<span @click=\"${context._openOverflowPopover}\" class=\"ui5-tokenizer-more-text\" part=\"n-more-text\">${ifDefined(context._nMoreText)}</span>`;\n\n\nexport default block0;","/* eslint no-unused-vars: 0 */\nimport { html, svg, repeat, classMap, styleMap, ifDefined, unsafeHTML, scopeTag } from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\n\nconst block0 = (context, tags, suffix) => suffix ? html`<${scopeTag(\"ui5-responsive-popover\", tags, suffix)} tokenizer-popover=\"true\" style=${styleMap(context.styles.popover)} ?content-only-on-desktop=\"${context.hasValueState}\" hide-arrow placement-type=\"Bottom\" horizontal-align=\"Left\"><div slot=\"header\" class=\"ui5-responsive-popover-header\" style=\"${styleMap(context.styles.popoverHeader)}\">${ context._isPhone ? block1(context, tags, suffix) : undefined }${ !context.hasValueState ? block2(context, tags, suffix) : undefined }</div><${scopeTag(\"ui5-list\", tags, suffix)} class=\"ui5-tokenizer-list\" mode=\"Delete\" @ui5-item-delete=${ifDefined(context.itemDelete)}>${ repeat(context._tokens, (item, index) => item._id || index, (item, index) => block4(item, index, context, tags, suffix)) }</${scopeTag(\"ui5-list\", tags, suffix)}>${ context._isPhone ? block5(context, tags, suffix) : undefined }</${scopeTag(\"ui5-responsive-popover\", tags, suffix)}>` : html`<ui5-responsive-popover tokenizer-popover=\"true\" style=${styleMap(context.styles.popover)} ?content-only-on-desktop=\"${context.hasValueState}\" hide-arrow placement-type=\"Bottom\" horizontal-align=\"Left\"><div slot=\"header\" class=\"ui5-responsive-popover-header\" style=\"${styleMap(context.styles.popoverHeader)}\">${ context._isPhone ? block1(context, tags, suffix) : undefined }${ !context.hasValueState ? block2(context, tags, suffix) : undefined }</div><ui5-list class=\"ui5-tokenizer-list\" mode=\"Delete\" @ui5-item-delete=${ifDefined(context.itemDelete)}>${ repeat(context._tokens, (item, index) => item._id || index, (item, index) => block4(item, index, context, tags, suffix)) }</ui5-list>${ context._isPhone ? block5(context, tags, suffix) : undefined }</ui5-responsive-popover>`;\nconst block1 = (context, tags, suffix) => suffix ? html`<div class=\"row\" style=\"${styleMap(context.styles.popoverHeaderTitle)}\"><${scopeTag(\"ui5-title\", tags, suffix)} level=\"H5\" class=\"ui5-responsive-popover-header-text\">${ifDefined(context.morePopoverTitle)}</${scopeTag(\"ui5-title\", tags, suffix)}><${scopeTag(\"ui5-button\", tags, suffix)} class=\"ui5-responsive-popover-close-btn\" icon=\"decline\" design=\"Transparent\" @click=\"${context.closeMorePopover}\"></${scopeTag(\"ui5-button\", tags, suffix)}></div>` : html`<div class=\"row\" style=\"${styleMap(context.styles.popoverHeaderTitle)}\"><ui5-title level=\"H5\" class=\"ui5-responsive-popover-header-text\">${ifDefined(context.morePopoverTitle)}</ui5-title><ui5-button class=\"ui5-responsive-popover-close-btn\" icon=\"decline\" design=\"Transparent\" @click=\"${context.closeMorePopover}\"></ui5-button></div>`;\nconst block2 = (context, tags, suffix) => suffix ? html`<div class=\"${classMap(context.classes.popoverValueState)}\" style=\"${styleMap(context.styles.popoverValueStateMessage)}\"><${scopeTag(\"ui5-icon\", tags, suffix)} class=\"ui5-input-value-state-message-icon\" name=\"${ifDefined(context._valueStateMessageIcon)}\"></${scopeTag(\"ui5-icon\", tags, suffix)}>${ repeat(context.valueStateMessageText, (item, index) => item._id || index, (item, index) => block3(item, index, context, tags, suffix)) }</div>` : html`<div class=\"${classMap(context.classes.popoverValueState)}\" style=\"${styleMap(context.styles.popoverValueStateMessage)}\"><ui5-icon class=\"ui5-input-value-state-message-icon\" name=\"${ifDefined(context._valueStateMessageIcon)}\"></ui5-icon>${ repeat(context.valueStateMessageText, (item, index) => item._id || index, (item, index) => block3(item, index, context, tags, suffix)) }</div>`;\nconst block3 = (item, index, context, tags, suffix) => html`${ifDefined(item)}`;\nconst block4 = (item, index, context, tags, suffix) => suffix ? html`<${scopeTag(\"ui5-li\", tags, suffix)} .tokenRef=${ifDefined(item)}>${ifDefined(item.text)}</${scopeTag(\"ui5-li\", tags, suffix)}>` : html`<ui5-li .tokenRef=${ifDefined(item)}>${ifDefined(item.text)}</ui5-li>`;\nconst block5 = (context, tags, suffix) => suffix ? html`<div slot=\"footer\" class=\"ui5-responsive-popover-footer\"><${scopeTag(\"ui5-button\", tags, suffix)} design=\"Transparent\" @click=\"${context.closeMorePopover}\">OK</${scopeTag(\"ui5-button\", tags, suffix)}></div>` : html`<div slot=\"footer\" class=\"ui5-responsive-popover-footer\"><ui5-button design=\"Transparent\" @click=\"${context.closeMorePopover}\">OK</ui5-button></div>`;\n\n\nexport default block0;","import { registerThemePropertiesLoader } from \"@ui5/webcomponents-base/dist/asset-registries/Themes.js\";\n\nimport defaultThemeBase from \"@ui5/webcomponents-theming/dist/generated/themes/sap_fiori_3/parameters-bundle.css.js\";\nimport defaultTheme from \"./sap_fiori_3/parameters-bundle.css.js\";\n\nregisterThemePropertiesLoader(\"@ui5/webcomponents-theming\", \"sap_fiori_3\", () => defaultThemeBase);\nregisterThemePropertiesLoader(\"@ui5/webcomponents\", \"sap_fiori_3\", () => defaultTheme);\nexport default {packageName:\"@ui5/webcomponents\",fileName:\"themes/Tokenizer.css\",content:\":host{display:inline-block;box-sizing:border-box;border:1px solid #000;height:2.25rem}.ui5-hidden-text{width:1px;overflow:hidden;color:transparent}.ui5-tokenizer-root{height:100%;display:flex;align-items:center;overflow-x:scroll;box-sizing:border-box;font-family:\\\"72override\\\",var(--sapFontFamily)}.ui5-tokenizer-no-padding{padding:0}.ui5-tokenizer-root.ui5-tokenizer-nmore--wrapper{overflow:hidden}.ui5-tokenizer--token--wrapper{display:inline-flex;align-items:center;box-sizing:border-box;height:100%}:host([expanded]) .ui5-tokenizer--content{display:inline-block;white-space:nowrap}.ui5-tokenizer--content{display:flex;flex-wrap:nowrap;align-items:center;overflow:hidden;padding-inline-start:var(--_ui5_tokenizer_padding)}.ui5-tokenizer-more-text{display:inline-block;margin-inline-start:.25rem;cursor:pointer;white-space:nowrap;font-size:var(--sapFontSize);font-weight:400;color:var(--_ui5_tokenizer_n_more_text_color)}:host([expanded]) .ui5-tokenizer--content{overflow:hidden;justify-content:flex-end}\"}","import { registerThemePropertiesLoader } from \"@ui5/webcomponents-base/dist/asset-registries/Themes.js\";\n\nimport defaultThemeBase from \"@ui5/webcomponents-theming/dist/generated/themes/sap_fiori_3/parameters-bundle.css.js\";\nimport defaultTheme from \"./sap_fiori_3/parameters-bundle.css.js\";\n\nregisterThemePropertiesLoader(\"@ui5/webcomponents-theming\", \"sap_fiori_3\", () => defaultThemeBase);\nregisterThemePropertiesLoader(\"@ui5/webcomponents\", \"sap_fiori_3\", () => defaultTheme);\nexport default {packageName:\"@ui5/webcomponents\",fileName:\"themes/TokenizerPopover.css\",content:\"[ui5-responsive-popover]::part(content),[ui5-responsive-popover]::part(header){padding:0}\"}","import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ScrollEnablement from \"@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport {\n\tisSpace,\n\tisSpaceCtrl,\n\tisSpaceShift,\n\tisLeftCtrl,\n\tisRightCtrl,\n\tisUpCtrl,\n\tisDownCtrl,\n\tisUpShift,\n\tisDownShift,\n\tisLeftShift,\n\tisRightShift,\n\tisLeftShiftCtrl,\n\tisRightShiftCtrl,\n\tisEnd,\n\tisHome,\n\tisHomeShift,\n\tisEndShift,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisRight,\n\tisLeft,\n\tisUp,\n\tisDown,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport Title from \"./Title.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport TokenizerTemplate from \"./generated/templates/TokenizerTemplate.lit.js\";\nimport TokenizerPopoverTemplate from \"./generated/templates/TokenizerPopoverTemplate.lit.js\";\nimport {\n\tMULTIINPUT_SHOW_MORE_TOKENS,\n\tTOKENIZER_ARIA_LABEL,\n\tTOKENIZER_POPOVER_REMOVE,\n\tTOKENIZER_ARIA_CONTAIN_TOKEN,\n\tTOKENIZER_ARIA_CONTAIN_ONE_TOKEN,\n\tTOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport styles from \"./generated/themes/Tokenizer.css.js\";\nimport TokenizerPopoverCss from \"./generated/themes/TokenizerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\n\n// reuse suggestions focus styling for NMore popup\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-tokenizer\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webc.main.Tokenizer.prototype */ {\n\t\t\"default\": {\n\t\t\tpropertyName: \"tokens\",\n\t\t\ttype: HTMLElement,\n\t\t\tindividualSlots: true,\n\t\t},\n\t\t\"valueStateMessage\": {\n\t\t\tpropertyName: \"valueStateMessage\",\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webc.main.Tokenizer.prototype */ {\n\t\tshowMore: { type: Boolean },\n\n\t\tdisabled: { type: Boolean },\n\n\t\t/**\n\t\t * Indicates if the tokenizer should show all tokens or n more label instead\n\t\t *\n\t\t * @private\n\t\t */\n\t\texpanded: { type: Boolean },\n\n\t\tmorePopoverOpener: { type: Object },\n\n\t\tpopoverMinWidth: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * Indicates the value state of the related input component.\n\t\t *\n\t\t * @type {sap.ui.webc.base.types.ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @private\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t_nMoreCount: { type: Integer },\n\t},\n\tevents: /** @lends sap.ui.webc.main.Tokenizer.prototype */ {\n\t\t\"token-delete\": {\n\t\t\tdetail: {\n\t\t\t\tref: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t\"show-more-items-press\": {\n\t\t\tdetail: {\n\t\t\t\tref: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * A container for tokens.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webc.main.Tokenizer\n * @extends sap.ui.webc.base.UI5Element\n * @tagname ui5-tokenizer\n * @usestextcontent\n * @private\n */\nclass Tokenizer extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn TokenizerTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, ValueStateMessageCss, SuggestionsCss, TokenizerPopoverCss];\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn TokenizerPopoverTemplate;\n\t}\n\n\t_handleResize() {\n\t\tthis._nMoreCount = this.overflownTokens.length;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._resizeHandler = this._handleResize.bind(this);\n\n\t\tthis._itemNav = new ItemNavigation(this, {\n\t\t\tcurrentIndex: \"-1\",\n\t\t\tgetItemsCallback: this._getVisibleTokens.bind(this),\n\t\t});\n\n\t\tthis._scrollEnablement = new ScrollEnablement(this);\n\t}\n\n\tasync onBeforeRendering() {\n\t\tif (this.showPopover && !this._getTokens().length) {\n\t\t\tconst popover = await this.getPopover();\n\t\t\tpopover.close();\n\t\t}\n\n\t\tthis._nMoreCount = this.overflownTokens.length;\n\t}\n\n\tonEnterDOM() {\n\t\tResizeHandler.register(this.shadowRoot.querySelector(\".ui5-tokenizer--content\"), this._resizeHandler);\n\t}\n\n\tonExitDOM() {\n\t\tResizeHandler.deregister(this.shadowRoot.querySelector(\".ui5-tokenizer--content\"), this._resizeHandler);\n\t}\n\n\tasync _openOverflowPopover() {\n\t\tif (this.showPopover) {\n\t\t\tconst popover = await this.getPopover();\n\n\t\t\tpopover.showAt(this.morePopoverOpener || this);\n\t\t}\n\n\t\tthis.fireEvent(\"show-more-items-press\");\n\t}\n\n\t_getTokens() {\n\t\treturn this.getSlottedNodes(\"tokens\");\n\t}\n\n\tget _tokens() {\n\t\treturn this.getSlottedNodes(\"tokens\");\n\t}\n\n\tget showPopover() {\n\t\treturn Object.keys(this.morePopoverOpener).length;\n\t}\n\n\t_getVisibleTokens() {\n\t\tif (this.disabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn this._tokens.filter((token, index) => {\n\t\t\treturn index < (this._tokens.length - this._nMoreCount);\n\t\t});\n\t}\n\n\tonAfterRendering() {\n\t\tthis._scrollEnablement.scrollContainer = (this.expanded || !this.narrowContentDom) ? this.expandedContentDom : this.narrowContentDom;\n\n\t\tif (this.expanded) {\n\t\t\tthis._expandedScrollWidth = this.expandedContentDom.scrollWidth;\n\t\t\tthis.scrollToEnd();\n\t\t}\n\n\t\tif (!this.expanded) {\n\t\t\tthis.scrollToStart();\n\t\t}\n\t}\n\n\t_delete(event) {\n\t\tif (!event.detail) { // if there are no details, the event is triggered by a click\n\t\t\tthis._tokenClickDelete(event, event.target);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._selectedTokens.length) {\n\t\t\tthis._selectedTokens.forEach(token => this._tokenKeyboardDelete(event, token));\n\t\t} else {\n\t\t\tthis._tokenKeyboardDelete(event);\n\t\t}\n\t}\n\n\t_tokenClickDelete(event, token) {\n\t\tconst tokens = this._getVisibleTokens();\n\t\tconst deletedTokenIndex = token ? tokens.indexOf(token) : tokens.indexOf(event.target); // The index of the token that just got deleted\n\t\tconst nextTokenIndex = deletedTokenIndex === tokens.length - 1 ? deletedTokenIndex - 1 : deletedTokenIndex + 1; // The index of the next token that needs to be focused next due to the deletion\n\t\tconst nextToken = tokens[nextTokenIndex]; // if the last item was deleted this will be undefined\n\n\t\tthis._handleCurrentItemAfterDeletion(nextToken);\n\n\t\tthis.fireEvent(\"token-delete\", { ref: token || event.target });\n\t}\n\n\t_handleCurrentItemAfterDeletion(nextToken) {\n\t\tif (nextToken && !isPhone()) {\n\t\t\tthis._itemNav.setCurrentItem(nextToken); // update the item navigation with the new token or undefined, if the last was deleted\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tnextToken.focus();\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_tokenKeyboardDelete(event, token) {\n\t\tlet nextTokenIndex; // The index of the next token that needs to be focused next due to the deletion\n\n\t\tconst tokens = this._getVisibleTokens();\n\t\tconst deletedTokenIndex = token ? tokens.indexOf(token) : tokens.indexOf(event.target); // The index of the token that just got deleted\n\t\tconst notSelectedTokens = tokens.filter(t => !t.selected);\n\n\t\tif (event.detail && event.detail.backSpace) { // on backspace key select the previous item (unless deleting the first)\n\t\t\tnextTokenIndex = deletedTokenIndex === 0 ? deletedTokenIndex + 1 : deletedTokenIndex - 1;\n\t\t} else { // on delete key or mouse click on the \"x\" select the next item (unless deleting the last)\n\t\t\tnextTokenIndex = deletedTokenIndex === tokens.length - 1 ? deletedTokenIndex - 1 : deletedTokenIndex + 1;\n\t\t}\n\n\t\tlet nextToken = tokens[nextTokenIndex]; // if the last item was deleted this will be undefined\n\n\t\tif (notSelectedTokens.length > 1) {\n\t\t\twhile (nextToken && nextToken.selected) {\n\t\t\t\tnextToken = event.detail.backSpace ? tokens[--nextTokenIndex] : tokens[++nextTokenIndex];\n\t\t\t}\n\t\t} else {\n\t\t\tnextToken = notSelectedTokens[0];\n\t\t}\n\n\t\tthis._handleCurrentItemAfterDeletion(nextToken);\n\n\t\tthis.fireEvent(\"token-delete\", { ref: token || event.target });\n\t}\n\n\titemDelete(event) {\n\t\tconst token = event.detail.item.tokenRef;\n\n\t\tthis.fireEvent(\"token-delete\", { ref: token });\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isSpaceShift(event)) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (isSpace(event) || isSpaceCtrl(event)) {\n\t\t\tevent.preventDefault();\n\n\t\t\treturn this._handleTokenSelection(event, false);\n\t\t}\n\n\t\tif (isHomeShift(event)) {\n\t\t\tthis._handleHomeShift(event);\n\t\t}\n\n\t\tif (isEndShift(event)) {\n\t\t\tthis._handleEndShift(event);\n\t\t}\n\n\t\tthis._handleItemNavigation(event, this._tokens);\n\t}\n\n\t_handleItemNavigation(event, tokens) {\n\t\tconst isCtrl = !!(event.metaKey || event.ctrlKey);\n\n\t\tif (isLeftCtrl(event) || isRightCtrl(event) || isDownCtrl(event) || isUpCtrl(event)) {\n\t\t\treturn this._handleArrowCtrl(event, event.target, tokens, isRightCtrl(event) || isDownCtrl(event));\n\t\t}\n\n\t\tif (isLeftShift(event) || isRightShift(event) || isUpShift(event) || isDownShift(event) || isLeftShiftCtrl(event) || isRightShiftCtrl(event)) {\n\t\t\tevent.preventDefault();\n\t\t\treturn this._handleArrowShift(event.target, tokens, (isRightShift(event) || isRightShiftCtrl(event) || isDownShift(event)));\n\t\t}\n\n\t\tif (isHome(event) || isEnd(event) || isHomeCtrl(event) || isEndCtrl(event)) {\n\t\t\tevent.preventDefault();\n\t\t\treturn this._handleHome(tokens, isEnd(event) || isEndCtrl(event));\n\t\t}\n\n\t\tif (isCtrl && event.key.toLowerCase() === \"a\") {\n\t\t\tevent.preventDefault();\n\n\t\t\treturn this._toggleTokenSelection(tokens);\n\t\t}\n\n\t\tif (isLeft(event) || isRight(event) || isUp(event) || isDown(event)) {\n\t\t\tconst nextTokenIdx = this._calcNextTokenIndex(this._tokens.find(token => token.focused), tokens, (isRight(event) || isDown(event)));\n\t\t\tthis._scrollToToken(tokens[nextTokenIdx]);\n\t\t}\n\t}\n\n\t_handleHome(tokens, endKeyPressed) {\n\t\tif (!tokens || !tokens.length) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tconst index = endKeyPressed ? tokens.length - 1 : 0;\n\n\t\ttokens[index].focus();\n\t\tthis._itemNav.setCurrentItem(tokens[index]);\n\t}\n\n\t_handleHomeShift(event) {\n\t\tconst tokens = this.tokens;\n\t\tconst currentTokenIdx = tokens.indexOf(event.target);\n\n\t\ttokens.filter((token, index) => index <= currentTokenIdx).forEach(token => {\n\t\t\ttoken.selected = true;\n\t\t});\n\n\t\ttokens[0].focus();\n\t\tthis._itemNav.setCurrentItem(tokens[0]);\n\t}\n\n\t_handleEndShift(event) {\n\t\tconst tokens = this.tokens;\n\t\tconst currentTokenIdx = tokens.indexOf(event.target);\n\n\t\ttokens.filter((token, index) => index >= currentTokenIdx).forEach(token => {\n\t\t\ttoken.selected = true;\n\t\t});\n\n\t\ttokens[tokens.length - 1].focus();\n\t\tthis._itemNav.setCurrentItem(tokens[tokens.length - 1]);\n\t}\n\n\t_calcNextTokenIndex(focusedToken, tokens, backwards) {\n\t\tif (!tokens.length) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst focusedTokenIndex = tokens.indexOf(focusedToken);\n\t\tlet nextIndex = backwards ? (focusedTokenIndex + 1) : (focusedTokenIndex - 1);\n\n\t\tif (nextIndex >= tokens.length) {\n\t\t\tnextIndex = tokens.length - 1;\n\t\t}\n\t\tif (nextIndex < 0) {\n\t\t\tnextIndex = 0;\n\t\t}\n\n\t\treturn nextIndex;\n\t}\n\n\t_handleArrowCtrl(event, focusedToken, tokens, backwards) {\n\t\tconst nextIndex = this._calcNextTokenIndex(focusedToken, tokens, backwards);\n\n\t\tevent.preventDefault();\n\n\t\tif (nextIndex === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetTimeout(() => tokens[nextIndex].focus(), 0);\n\n\t\tthis._scrollToToken(tokens[nextIndex]);\n\t\tthis._itemNav.setCurrentItem(tokens[nextIndex]);\n\t}\n\n\t_handleArrowShift(focusedToken, tokens, backwards) {\n\t\tconst focusedTokenIndex = tokens.indexOf(focusedToken);\n\t\tconst nextIndex = backwards ? (focusedTokenIndex + 1) : (focusedTokenIndex - 1);\n\n\t\tif (nextIndex === -1 || nextIndex === tokens.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tfocusedToken.selected = true;\n\t\ttokens[nextIndex].selected = true;\n\t\tsetTimeout(() => tokens[nextIndex].focus(), 0);\n\n\t\tthis._scrollToToken(tokens[nextIndex]);\n\t\tthis._itemNav.setCurrentItem(tokens[nextIndex]);\n\t}\n\n\t_click(event) {\n\t\tthis._handleTokenSelection(event);\n\t}\n\n\t_onmousedown(event) {\n\t\tif (event.target.hasAttribute(\"ui5-token\")) {\n\t\t\tif (!event.target.toBeDeleted) {\n\t\t\t\tthis._itemNav.setCurrentItem(event.target);\n\t\t\t\tthis._scrollToToken(event.target);\n\t\t\t}\n\t\t}\n\t}\n\n\t_toggleTokenSelection(tokens) {\n\t\tif (!tokens || !tokens.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst tokensAreSelected = tokens.every(token => token.selected);\n\t\ttokens.forEach(token => { token.selected = !tokensAreSelected; });\n\t}\n\n\t_handleTokenSelection(event, deselectAll = true) {\n\t\tif (event.target.hasAttribute(\"ui5-token\")) {\n\t\t\tconst deselectTokens = deselectAll ? this._tokens : [event.target];\n\n\t\t\tdeselectTokens.forEach(token => {\n\t\t\t\tif (token !== event.target) {\n\t\t\t\t\ttoken.selected = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_fillClipboard(shortcutName, tokens) {\n\t\tconst tokensTexts = tokens.filter(token => token.selected).map(token => token.text).join(\"\\r\\n\");\n\n\t\t/* fill clipboard with tokens' texts so parent can handle creation */\n\t\tconst cutToClipboard = event => {\n\t\t\tif (event.clipboardData) {\n\t\t\t\tevent.clipboardData.setData(\"text/plain\", tokensTexts);\n\t\t\t} else {\n\t\t\t\tevent.originalEvent.clipboardData.setData(\"text/plain\", tokensTexts);\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t};\n\n\t\tdocument.addEventListener(shortcutName, cutToClipboard);\n\t\tdocument.execCommand(shortcutName);\n\t\tdocument.removeEventListener(shortcutName, cutToClipboard);\n\t}\n\n\t/**\n\t * Scrolls the container of the tokens to its beginning.\n\t * This method is used by MultiInput and MultiComboBox.\n\t * @private\n\t */\n\tscrollToStart() {\n\t\tif (this._scrollEnablement.scrollContainer) {\n\t\t\tthis._scrollEnablement.scrollTo(0, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Scrolls the container of the tokens to its end when expanded.\n\t * This method is used by MultiInput and MultiComboBox.\n\t * @private\n\t */\n\tscrollToEnd() {\n\t\tconst expandedTokenizerScrollWidth = this.expandedContentDom && (this.effectiveDir !== \"rtl\" ? this.expandedContentDom.scrollWidth : -this.expandedContentDom.scrollWidth);\n\t\tif (this._scrollEnablement.scrollContainer) {\n\t\t\tthis._scrollEnablement.scrollTo(expandedTokenizerScrollWidth, 0, 5, 10);\n\t\t}\n\t}\n\n\t/**\n\t * Scrolls token to the visible area of the container.\n\t * Adds 4 pixels to the scroll position to ensure padding and border visibility on both ends\n\t * @private\n\t */\n\t_scrollToToken(token) {\n\t\tif (!this.expandedContentDom) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst tokenRect = token.getBoundingClientRect();\n\t\tconst tokenContainerRect = this.expandedContentDom.getBoundingClientRect();\n\n\t\tif (tokenRect.left < tokenContainerRect.left) {\n\t\t\tthis._scrollEnablement.scrollTo(this.expandedContentDom.scrollLeft - (tokenContainerRect.left - tokenRect.left + 5), 0);\n\t\t} else if (tokenRect.right > tokenContainerRect.right) {\n\t\t\tthis._scrollEnablement.scrollTo(this.expandedContentDom.scrollLeft + (tokenRect.right - tokenContainerRect.right + 5), 0);\n\t\t}\n\t}\n\n\tasync closeMorePopover() {\n\t\tconst popover = await this.getPopover();\n\n\t\tpopover.close();\n\t}\n\n\tget _nMoreText() {\n\t\treturn Tokenizer.i18nBundle.getText(MULTIINPUT_SHOW_MORE_TOKENS, this._nMoreCount);\n\t}\n\n\tget showNMore() {\n\t\treturn !this.expanded && this.showMore && this.overflownTokens.length;\n\t}\n\n\tget contentDom() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-tokenizer--content\");\n\t}\n\n\tget expandedContentDom() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-tokenizer-expanded--content\");\n\t}\n\n\tget narrowContentDom() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-tokenizer-nmore--content\");\n\t}\n\n\tget tokenizerLabel() {\n\t\treturn Tokenizer.i18nBundle.getText(TOKENIZER_ARIA_LABEL);\n\t}\n\n\tget morePopoverTitle() {\n\t\treturn Tokenizer.i18nBundle.getText(TOKENIZER_POPOVER_REMOVE);\n\t}\n\n\tget overflownTokens() {\n\t\tif (!this.contentDom) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// Reset the overflow prop of the tokens first in order\n\t\t// to use their dimensions for calculation because already\n\t\t// hidden tokens are set to 'display: none'\n\t\tthis._getTokens().forEach(token => {\n\t\t\ttoken.overflows = false;\n\t\t});\n\n\t\treturn this._getTokens().filter(token => {\n\t\t\tconst parentRect = this.contentDom.getBoundingClientRect();\n\t\t\tconst tokenRect = token.getBoundingClientRect();\n\t\t\tconst tokenEnd = parseInt(tokenRect.right);\n\t\t\tconst parentEnd = parseInt(parentRect.right);\n\t\t\tconst tokenStart = parseInt(tokenRect.left);\n\t\t\tconst parentStart = parseInt(parentRect.left);\n\n\t\t\ttoken.overflows = !this.expanded && ((tokenStart < parentStart) || (tokenEnd > parentEnd));\n\n\t\t\treturn token.overflows;\n\t\t});\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState === ValueState.None || this.valueState === ValueState.Success;\n\t}\n\n\tget valueStateMessageText() {\n\t\treturn this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n\t}\n\n\t/**\n\t * This method is relevant for sap_horizon theme only\n\t */\n\t get _valueStateMessageIcon() {\n\t\tconst iconPerValueState = {\n\t\t\tError: \"error\",\n\t\t\tWarning: \"alert\",\n\t\t\tSuccess: \"sys-enter-2\",\n\t\t\tInformation: \"information\",\n\t\t};\n\n\t\treturn this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\tget _selectedTokens() {\n\t\treturn this._getTokens().filter(token => token.selected);\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\twrapper: {\n\t\t\t\t\"ui5-tokenizer-root\": true,\n\t\t\t\t\"ui5-tokenizer-nmore--wrapper\": this.showMore,\n\t\t\t\t\"ui5-tokenizer-no-padding\": !this._getTokens().length,\n\t\t\t},\n\t\t\tcontent: {\n\t\t\t\t\"ui5-tokenizer--content\": true,\n\t\t\t\t\"ui5-tokenizer-expanded--content\": !this.showNMore,\n\t\t\t\t\"ui5-tokenizer-nmore--content\": this.showNMore,\n\t\t\t},\n\t\t\tpopoverValueState: {\n\t\t\t\t\"ui5-valuestatemessage-root\": true,\n\t\t\t\t\"ui5-responsive-popover-header\": this.showPopover,\n\t\t\t\t\"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n\t\t\t\t\"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n\t\t\t\t\"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n\t\t\t\t\"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n\t\t\t},\n\t\t};\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tpopover: {\n\t\t\t\t\"min-width\": `${this.popoverMinWidth}px`,\n\t\t\t},\n\t\t\tpopoverValueStateMessage: {\n\t\t\t\t\"width\": isPhone() ? \"100%\" : `${this.popoverMinWidth}px`,\n\t\t\t\t\"min-height\": \"2rem\",\n\t\t\t},\n\t\t\tpopoverHeader: {\n\t\t\t\t\"min-height\": \"2rem\",\n\t\t\t},\n\t\t\tpopoverHeaderTitle: {\n\t\t\t\t\"justify-content\": \"left\",\n\t\t\t},\n\t\t};\n\t}\n\n\t_tokensCountText() {\n\t\tconst iTokenCount = this._getTokens().length;\n\n\t\tif (iTokenCount === 0) {\n\t\t\treturn Tokenizer.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_TOKEN);\n\t\t}\n\n\t\tif (iTokenCount === 1) {\n\t\t\treturn Tokenizer.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_ONE_TOKEN);\n\t\t}\n\n\t\treturn Tokenizer.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS, iTokenCount);\n\t}\n\n\t/**\n\t * @protected\n\t */\n\t_focusLastToken() {\n\t\tif (this.tokens.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst lastToken = this.tokens[this.tokens.length - 1];\n\t\tlastToken.focus();\n\t\tthis._itemNav.setCurrentItem(lastToken);\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tResponsivePopover,\n\t\t\tList,\n\t\t\tStandardListItem,\n\t\t\tTitle,\n\t\t\tButton,\n\t\t];\n\t}\n\n\tstatic async onDefine() {\n\t\tTokenizer.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tasync getPopover() {\n\t\treturn (await this.getStaticAreaItemDomRef()).querySelector(\"[ui5-responsive-popover]\");\n\t}\n}\n\nTokenizer.define();\n\nexport default Tokenizer;\n"],"names":["block0","context","tags","suffix","html","classMap","ifDefined","repeat","item","index","block1","block2","scopeTag","styleMap","block4","block5","block3","registerThemePropertiesLoader","defaultThemeBase","defaultTheme","styles","TokenizerPopoverCss","metadata","Integer","ValueState","Tokenizer","UI5Element","litRender","TokenizerTemplate","ResponsivePopoverCommonCss","ValueStateMessageCss","SuggestionsCss","TokenizerPopoverTemplate","ItemNavigation","ScrollEnablement","ResizeHandler","token","event","tokens","deletedTokenIndex","nextTokenIndex","nextToken","isPhone","notSelectedTokens","t","isSpaceShift","isSpace","isSpaceCtrl","isHomeShift","isEndShift","isCtrl","isLeftCtrl","isRightCtrl","isDownCtrl","isUpCtrl","isLeftShift","isRightShift","isUpShift","isDownShift","isLeftShiftCtrl","isRightShiftCtrl","isHome","isEnd","isHomeCtrl","isEndCtrl","isLeft","isRight","isUp","isDown","nextTokenIdx","endKeyPressed","currentTokenIdx","focusedToken","backwards","focusedTokenIndex","nextIndex","tokensAreSelected","deselectAll","shortcutName","tokensTexts","cutToClipboard","expandedTokenizerScrollWidth","tokenRect","tokenContainerRect","MULTIINPUT_SHOW_MORE_TOKENS","TOKENIZER_ARIA_LABEL","TOKENIZER_POPOVER_REMOVE","parentRect","tokenEnd","parentEnd","tokenStart","parentStart","el","iconPerValueState","iTokenCount","TOKENIZER_ARIA_CONTAIN_TOKEN","TOKENIZER_ARIA_CONTAIN_ONE_TOKEN","TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS","lastToken","ResponsivePopover","List","StandardListItem","Title","Button","getI18nBundle"],"mappings":"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"}