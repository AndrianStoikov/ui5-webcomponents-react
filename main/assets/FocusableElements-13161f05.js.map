{"version":3,"file":"FocusableElements-13161f05.js","sources":["../../node_modules/@ui5/webcomponents-base/dist/util/isElementHidden.js","../../node_modules/@ui5/webcomponents-base/dist/util/isElementClickable.js","../../node_modules/@ui5/webcomponents-base/dist/util/FocusableElements.js"],"sourcesContent":["const isElementHidden = (el) => {\n    if (el.nodeName === \"SLOT\") {\n        return false;\n    }\n    return (el.offsetWidth <= 0 && el.offsetHeight <= 0) || (el.style && el.style.visibility === \"hidden\");\n};\nexport default isElementHidden;\n//# sourceMappingURL=isElementHidden.js.map","const rClickable = /^(?:a|area)$/i;\nconst rFocusable = /^(?:input|select|textarea|button)$/i;\nconst isElementClickable = (el) => {\n    if (el.disabled) {\n        return false;\n    }\n    const tabIndex = el.getAttribute(\"tabindex\");\n    if (tabIndex !== null && tabIndex !== undefined) {\n        return parseInt(tabIndex) >= 0;\n    }\n    return rFocusable.test(el.nodeName)\n        || (rClickable.test(el.nodeName)\n            && !!el.href);\n};\nexport default isElementClickable;\n//# sourceMappingURL=isElementClickable.js.map","import isElementHidden from \"./isElementHidden.js\";\nimport isElementClickable from \"./isElementClickable.js\";\nimport { instanceOfUI5Element } from \"../UI5Element.js\";\nconst isFocusTrap = (el) => {\n    return el.hasAttribute(\"data-ui5-focus-trap\");\n};\nconst getFirstFocusableElement = async (container, startFromContainer) => {\n    if (!container || isElementHidden(container)) {\n        return null;\n    }\n    return findFocusableElement(container, true, startFromContainer);\n};\nconst getLastFocusableElement = async (container, startFromContainer) => {\n    if (!container || isElementHidden(container)) {\n        return null;\n    }\n    return findFocusableElement(container, false, startFromContainer);\n};\nconst isElemFocusable = (el) => {\n    return el.hasAttribute(\"data-ui5-focus-redirect\") || !isElementHidden(el);\n};\nconst findFocusableElement = async (container, forward, startFromContainer) => {\n    let child;\n    if (container.shadowRoot) {\n        child = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n    }\n    else if (container instanceof HTMLSlotElement && container.assignedNodes()) {\n        const assignedElements = container.assignedNodes();\n        child = forward ? assignedElements[0] : assignedElements[assignedElements.length - 1];\n    }\n    else if (startFromContainer) {\n        child = container;\n    }\n    else {\n        child = forward ? container.firstElementChild : container.lastElementChild;\n    }\n    let focusableDescendant;\n    /* eslint-disable no-await-in-loop */\n    while (child) {\n        const originalChild = child;\n        if (instanceOfUI5Element(child)) {\n            child = await child.getFocusDomRefAsync();\n        }\n        if (!child) {\n            return null;\n        }\n        if (child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child)) {\n            if (isElementClickable(child)) {\n                return (child && typeof child.focus === \"function\") ? child : null;\n            }\n            focusableDescendant = await findFocusableElement(child, forward);\n            if (focusableDescendant) {\n                return (focusableDescendant && typeof focusableDescendant.focus === \"function\") ? focusableDescendant : null;\n            }\n        }\n        child = forward ? originalChild.nextSibling : originalChild.previousSibling;\n    }\n    /* eslint-enable no-await-in-loop */\n    return null;\n};\nexport { getFirstFocusableElement, getLastFocusableElement, };\n//# sourceMappingURL=FocusableElements.js.map"],"names":["isElementHidden","el","rClickable","rFocusable","isElementClickable","tabIndex","isFocusTrap","getFirstFocusableElement","container","startFromContainer","findFocusableElement","getLastFocusableElement","isElemFocusable","forward","child","assignedElements","focusableDescendant","originalChild","instanceOfUI5Element"],"mappings":"6CAAK,MAACA,EAAmBC,GACjBA,EAAG,WAAa,OACT,GAEHA,EAAG,aAAe,GAAKA,EAAG,cAAgB,GAAOA,EAAG,OAASA,EAAG,MAAM,aAAe,SCJ3FC,EAAa,gBACbC,EAAa,sCACbC,EAAsBH,GAAO,CAC/B,GAAIA,EAAG,SACH,MAAO,GAEX,MAAMI,EAAWJ,EAAG,aAAa,UAAU,EAC3C,OAAII,GAAa,KACN,SAASA,CAAQ,GAAK,EAE1BF,EAAW,KAAKF,EAAG,QAAQ,GAC1BC,EAAW,KAAKD,EAAG,QAAQ,GACxB,CAAC,CAACA,EAAG,IACpB,ECVMK,EAAeL,GACVA,EAAG,aAAa,qBAAqB,EAE1CM,EAA2B,MAAOC,EAAWC,IAC3C,CAACD,GAAaR,EAAgBQ,CAAS,EAChC,KAEJE,EAAqBF,EAAW,GAAMC,CAAkB,EAE7DE,EAA0B,MAAOH,EAAWC,IAC1C,CAACD,GAAaR,EAAgBQ,CAAS,EAChC,KAEJE,EAAqBF,EAAW,GAAOC,CAAkB,EAE9DG,EAAmBX,GACdA,EAAG,aAAa,yBAAyB,GAAK,CAACD,EAAgBC,CAAE,EAEtES,EAAuB,MAAOF,EAAWK,EAASJ,IAAuB,CAC3E,IAAIK,EACJ,GAAIN,EAAU,WACVM,EAAQD,EAAUL,EAAU,WAAW,WAAaA,EAAU,WAAW,kBAEpEA,aAAqB,iBAAmBA,EAAU,cAAa,EAAI,CACxE,MAAMO,EAAmBP,EAAU,gBACnCM,EAAQD,EAAUE,EAAiB,CAAC,EAAIA,EAAiBA,EAAiB,OAAS,CAAC,CACvF,MACQN,EACLK,EAAQN,EAGRM,EAAQD,EAAUL,EAAU,kBAAoBA,EAAU,iBAE9D,IAAIQ,EAEJ,KAAOF,GAAO,CACV,MAAMG,EAAgBH,EAItB,GAHII,EAAqBJ,CAAK,IAC1BA,EAAQ,MAAMA,EAAM,uBAEpB,CAACA,EACD,OAAO,KAEX,GAAIA,EAAM,WAAa,GAAKF,EAAgBE,CAAK,GAAK,CAACR,EAAYQ,CAAK,EAAG,CACvE,GAAIV,EAAmBU,CAAK,EACxB,OAAQA,GAAS,OAAOA,EAAM,OAAU,WAAcA,EAAQ,KAGlE,GADAE,EAAsB,MAAMN,EAAqBI,EAAOD,CAAO,EAC3DG,EACA,OAAQA,GAAuB,OAAOA,EAAoB,OAAU,WAAcA,EAAsB,IAE/G,CACDF,EAAQD,EAAUI,EAAc,YAAcA,EAAc,eAC/D,CAED,OAAO,IACX"}