import{a as j,j as _}from"./jsx-runtime-670450c2.js";import{c as $}from"./clsx.m-1229b3e0.js";import{r as t}from"./index-f1f749bf.js";import{c as ie}from"./react-jss.esm-e54d2f1d.js";import{u as ue,$ as ce}from"./i18n-defaults-a62b2e2b.js";import{g as de,f as pe}from"./utils-ed90fb1b.js";import{i as fe}from"./overflow-1ae87508.js";import{r as me}from"./index-96c5f47c.js";import{u as te,h as ve}from"./withWebComponent-63dd52a0.js";import{s as he}from"./stopPropagation-da74d54e.js";import{P as be}from"./index-b152c57a.js";import{c as ge}from"./class-map-abcca105.js";import{T as ye}from"./index-bb210050.js";import{a as we}from"./Button-2e5054c2.js";import{P as Ce}from"./Popover-97ca01c1.js";import{T as i}from"./ThemingParameters-f4b4144e.js";import{b as Z}from"./CssSizeVariables-bd372cde.js";import{a as ee}from"./CustomVariables-fd831c35.js";import{d as L}from"./debounce-5c77766a.js";import{u as Te}from"./UI5Element-727d48d7.js";var I=(r=>(r.Auto="Auto",r.Info="Info",r.Solid="Solid",r.Transparent="Transparent",r))(I||{}),z=(r=>(r.Clear="Clear",r.Standard="Standard",r))(z||{});const _e=t.createContext({inPopover:!1}),Re=ge(),U=r=>{const{lastVisibleIndex:W,classes:w,children:D,portalContainer:R,overflowContentRef:C,numberOfAlwaysVisibleItems:E,showMoreText:x,overflowPopoverRef:O,overflowButton:f}=r,[P,S]=t.useState(!1),l=t.useRef(null),[T,V]=te(O),N=o=>{o.stopPropagation(),S(p=>p?!1:(V.current&&(V.current.opener=o.target),!0))},M=()=>{l.current&&(l.current.accessibilityAttributes={expanded:!0,hasPopup:"menu"})},s=()=>{S(!0)},F=o=>{l.current&&(l.current.accessibilityAttributes={expanded:!1,hasPopup:"menu"}),he(o),S(!1)};t.useEffect(()=>{const o=de("ui5-toggle-button");customElements.whenDefined(o).then(()=>{l.current&&(l.current.accessibilityAttributes={expanded:P,hasPopup:"menu"})})},[]);const v=o=>{var p;typeof((p=f==null?void 0:f.props)==null?void 0:p.onClick)=="function"&&f.props.onClick(o),o.defaultPrevented||N(o)},d=ve();return j(_e.Provider,{value:{inPopover:!0},children:[f?t.cloneElement(f,{onClick:v}):_(ye,{ref:l,design:we.Transparent,icon:fe,onClick:N,pressed:P,accessibleName:x,tooltip:x,"data-component-name":"ToolbarOverflowButton"}),d&&me.createPortal(_(be,{"data-component-name":"ToolbarOverflowPopover",className:$(w.popover,Re&&w.popoverPhone),placementType:Ce.Bottom,ref:T,open:P,onAfterClose:F,onBeforeOpen:M,onAfterOpen:s,hideArrow:!0,children:_("div",{className:w.popoverContent,ref:C,children:D.map((o,p)=>{var h;return p>W&&p>E-1?((h=o.type)==null?void 0:h.displayName)==="ToolbarSeparator"?t.cloneElement(o,{style:{height:"0.0625rem",margin:"0.375rem 0.1875rem",width:"100%"}}):o:null})})}),R??document.body)]})};try{U.displayName="OverflowPopover",U.__docgenInfo={description:"",displayName:"OverflowPopover",props:{lastVisibleIndex:{defaultValue:null,description:"",name:"lastVisibleIndex",required:!0,type:{name:"number"}},classes:{defaultValue:null,description:"",name:"classes",required:!0,type:{name:"Record<string, string>"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},overflowContentRef:{defaultValue:null,description:"",name:"overflowContentRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},overflowPopoverRef:{defaultValue:null,description:"",name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},overflowButton:{defaultValue:null,description:"",name:"overflowButton",required:!1,type:{name:"ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ButtonPropTypes, string | JSXElementConstructor<...>>"}}}}}catch{}const Pe={outerContainer:{boxSizing:"border-box",width:"100%",maxWidth:"100%",height:Z.sapWcrToolbarHeight,position:"relative",overflow:"hidden",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`solid 0.0625rem ${i.sapGroup_TitleBorderColor}`},hasOverflow:{"& $toolbar":{maxWidth:"calc(100% - 44px)"}},clear:{borderBottom:"none"},active:{cursor:"pointer","&:hover":{backgroundColor:i.sapList_Hover_Background},"&:focus":{outline:ee.ToolbarFocusOutline,outlineOffset:"-0.1875rem",boxShadow:ee.ToolbarFocusShadow},"&:active":{backgroundColor:i.sapActiveColor}},info:{height:"2rem",backgroundColor:i.sapInfobar_NonInteractive_Background,color:i.sapList_TextColor,"&$active":{outlineColor:i.sapContent_ContrastFocusColor,backgroundColor:i.sapInfobar_Background,color:i.sapInfobar_TextColor,"&:hover":{backgroundColor:i.sapInfobar_Hover_Background},"&:active":{backgroundColor:i.sapInfobar_Active_Background}}},solid:{backgroundColor:i.sapBackgroundColor},transparent:{backgroundColor:i.sapToolbar_Background},toolbar:{width:"100%","& >:first-child:not(.spacer)":{marginInline:"0.5rem 0.25rem"},"& >:last-child:not(.spacer)":{marginInline:"0.25rem 0.5rem"},"& > *:not(first-child):not(last-child):not(.spacer)":{marginInline:"0.25rem"},display:"flex",alignItems:"center",maxWidth:"100%"},overflowButtonContainer:{display:"flex",marginInline:"0 0.5rem"},popover:{"&[ui5-popover]::part(content)":{padding:0}},popoverPhone:{width:"calc(100% - 10px)",maxWidth:"calc(100% - 10px)",left:"5px !important"},popoverContent:{padding:Z.sapWcrToolbarPopoverContentPadding,display:"flex",flexDirection:"column","& [ui5-toggle-button], & [ui5-button]":{marginBottom:"0.25rem"},"& [ui5-button]::part(button) ,& [ui5-toggle-button]::part(button)":{justifyContent:"start"},"& [ui5-button][icon-only]::part(button), & [ui5-toggle-button][icon-only]::part(button)":{padding:"revert"},"& :last-child":{marginBottom:0}},childContainer:{display:"flex"}},Se=ie(Pe,{name:"Toolbar"}),k=36+8+8,J=t.forwardRef((r,W)=>{const{children:w,toolbarStyle:D=z.Standard,design:R=I.Auto,active:C=!1,style:E,className:x,onClick:O,slot:f,as:P="div",portalContainer:S,numberOfAlwaysVisibleItems:l=0,onOverflowChange:T,overflowPopoverRef:V,overflowButton:N,...M}=r,s=Se(),[F,v]=te(W),d=t.useRef([]),[o,p]=t.useState(null),h=t.useRef(null),X=t.useRef(null),oe=t.useRef(null),[G,ne]=t.useState("0"),re=ue("@ui5/webcomponents-react").getText(ce),ae=$(s.outerContainer,D===z.Clear&&s.clear,C&&s.active,R===I.Solid&&s.solid,R===I.Transparent&&s.transparent,R===I.Info&&s.info,x),m=t.useMemo(()=>pe(w,10),[w]),H=t.useMemo(()=>(d.current=[],m.map((e,n)=>{var g;const a=t.createRef(),u=((g=e==null?void 0:e.type)==null?void 0:g.displayName)==="ToolbarSpacer";return d.current.push({ref:a,isSpacer:u}),u?e:_("div",{ref:a,className:s.childContainer,"data-component-name":"ToolbarChildContainer",children:e},n)})),[m,d,s.childContainer]),b=(o||o===0)&&t.Children.count(H)!==o+1&&l<t.Children.count(m);t.useEffect(()=>{let e;const n=h.current.children[l-1],a=L(()=>{ne(`${n.getBoundingClientRect().right+k}px`)},200);return l&&b&&n&&(e=new ResizeObserver(a),e.observe(h.current)),()=>{a.cancel(),e==null||e.disconnect()}},[l,b]);const K=t.useRef(),A=t.useCallback(()=>{K.current=requestAnimationFrame(()=>{if(!v.current)return;const e=v.current.getBoundingClientRect().width;let n=0,a=null;if(e-k<=0)a=-1;else{let u=!0;d.current.forEach((g,c)=>{const B=d.current[c];if(B&&B.ref&&B.ref.current){let y=B.ref.current.getBoundingClientRect().width;y+=c===0||c===d.current.length-1?4:8,c===d.current.length-1?n+y<=e-8?a=c:(c===0||u)&&(a=c-1):(n+y<=e-k&&(a=c),n<e-k&&n+y>=e-k&&(a=c-1)),u&&!g.isSpacer&&(u=!1),n+=y}})}p(a)})},[b]);t.useEffect(()=>{const e=new ResizeObserver(A);return v.current&&e.observe(v.current),()=>{cancelAnimationFrame(K.current),e.disconnect()}},[A]),Te(()=>{A()},[A]);const Y=e=>{if(C&&typeof O=="function"){const n=e.type==="keydown"&&(e.code==="Enter"||e.code==="Space");if(n&&e.target!==e.currentTarget)return;(e.type==="click"||n)&&(e.preventDefault(),O(e))}},Q=t.useRef(m),q=t.useRef(L(T,60));t.useEffect(()=>{q.current=L(T,60)},[T]),t.useEffect(()=>{var n,a;const e=Q.current.length!==m.length;if((o!==null||e)&&typeof T=="function"){Q.current=m;const u=(n=h.current)==null?void 0:n.children;let g=[];const c=(a=X.current)==null?void 0:a.children;(u==null?void 0:u.length)>0&&(g=Array.from(u).filter((B,y)=>y<=o)),q.current({toolbarElements:g,overflowElements:c,target:v.current})}return()=>{q.current.cancel()}},[o,m,q]);const le=P,se=G!=="0"?{minWidth:G,...E}:E;return j(le,{style:se,className:$(ae,b&&s.hasOverflow),ref:F,slot:f,onClick:Y,onKeyDown:Y,tabIndex:C?0:void 0,role:C?"button":void 0,...M,children:[j("div",{className:s.toolbar,"data-component-name":"ToolbarContent",ref:h,children:[b&&t.Children.map(H,(e,n)=>n>=o+1&&n>l-1?t.cloneElement(e,{style:{visibility:"hidden",position:"absolute",pointerEvents:"none"}}):e),!b&&H]}),b&&_("div",{ref:oe,className:s.overflowButtonContainer,"data-component-name":"ToolbarOverflowButtonContainer",children:_(U,{overflowPopoverRef:V,lastVisibleIndex:o,classes:s,portalContainer:S,overflowContentRef:X,numberOfAlwaysVisibleItems:l,showMoreText:re,overflowButton:N,children:m})})]})});J.displayName="Toolbar";try{J.displayName="Toolbar",J.__docgenInfo={description:`Horizontal container most commonly used to display buttons, labels, selects and various other input controls.

The content of the \`Toolbar\` moves into the overflow area from right to left when the available space is not enough in the visible area of the container.
It can be accessed by the user through the overflow button that opens it in a popover.

__Note:__ The overflow popover is mounted only when opened, i.e., any child component of the popover will be remounted, when moved into it.`,displayName:"Toolbar",props:{children:{defaultValue:null,description:"Defines the content of the `Toolbar`.\n\n__Note:__ Although this prop accepts all `ReactNode` types, it is strongly recommended to not pass `string` or `number` to it.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},overflowButton:{defaultValue:null,description:'Defines the button shown when the `Toolbar` goes into overflow.\n\n__Note:__ It is strongly recommended that you only use `ToggleButton` in icon only mode in order to preserve the intended design.\n\n__Note:__ Per default a `ToggleButton` with the `"overflow"` icon and all necessary a11y attributes will be rendered.',name:"overflowButton",required:!1,type:{name:"ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ButtonPropTypes, string | JSXElementConstructor<...>>"}},toolbarStyle:{defaultValue:null,description:"Defines the visual style of the `Toolbar`.\n\n__Note:__ The visual styles are theme-dependent.",name:"toolbarStyle",required:!1,type:{name:"enum",value:[{value:'"Clear"'},{value:'"Standard"'},{value:'"Clear"'},{value:'"Standard"'}]}},design:{defaultValue:null,description:"Defines the `Toolbar` design.<br />\n<b>Note:</b> Design settings are theme-dependent.",name:"design",required:!1,type:{name:"enum",value:[{value:'"Auto"'},{value:'"Info"'},{value:'"Solid"'},{value:'"Transparent"'},{value:'"Auto"'},{value:'"Info"'},{value:'"Solid"'},{value:'"Transparent"'}]}},active:{defaultValue:null,description:"Indicates that the whole `Toolbar` is clickable. The Press event is fired only if `active` is set to true.",name:"active",required:!1,type:{name:"boolean"}},as:{defaultValue:null,description:"Sets the components outer HTML tag.\n\n__Note:__ For TypeScript the types of `ref` are bound to the default tag name, if you change it you are responsible to set the respective types yourself.",name:"as",required:!1,type:{name:"enum",value:[{value:'"object"'},{value:'"style"'},{value:'"slot"'},{value:'"title"'},{value:'"article"'},{value:'"button"'},{value:'"dialog"'},{value:'"figure"'},{value:'"form"'},{value:'"img"'},{value:'"link"'},{value:'"main"'},{value:'"menu"'},{value:'"option"'},{value:'"table"'},{value:'"time"'},{value:'"header"'},{value:'"footer"'},{value:'"a"'},{value:'"abbr"'},{value:'"address"'},{value:'"area"'},{value:'"aside"'},{value:'"audio"'},{value:'"b"'},{value:'"base"'},{value:'"bdi"'},{value:'"bdo"'},{value:'"blockquote"'},{value:'"body"'},{value:'"br"'},{value:'"canvas"'},{value:'"caption"'},{value:'"cite"'},{value:'"code"'},{value:'"col"'},{value:'"colgroup"'},{value:'"data"'},{value:'"datalist"'},{value:'"dd"'},{value:'"del"'},{value:'"details"'},{value:'"dfn"'},{value:'"div"'},{value:'"dl"'},{value:'"dt"'},{value:'"em"'},{value:'"embed"'},{value:'"fieldset"'},{value:'"figcaption"'},{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"head"'},{value:'"hgroup"'},{value:'"hr"'},{value:'"html"'},{value:'"i"'},{value:'"iframe"'},{value:'"input"'},{value:'"ins"'},{value:'"kbd"'},{value:'"label"'},{value:'"legend"'},{value:'"li"'},{value:'"map"'},{value:'"mark"'},{value:'"meta"'},{value:'"meter"'},{value:'"nav"'},{value:'"noscript"'},{value:'"ol"'},{value:'"optgroup"'},{value:'"output"'},{value:'"p"'},{value:'"picture"'},{value:'"pre"'},{value:'"progress"'},{value:'"q"'},{value:'"rp"'},{value:'"rt"'},{value:'"ruby"'},{value:'"s"'},{value:'"samp"'},{value:'"script"'},{value:'"section"'},{value:'"select"'},{value:'"small"'},{value:'"source"'},{value:'"span"'},{value:'"strong"'},{value:'"sub"'},{value:'"summary"'},{value:'"sup"'},{value:'"tbody"'},{value:'"td"'},{value:'"template"'},{value:'"textarea"'},{value:'"tfoot"'},{value:'"th"'},{value:'"thead"'},{value:'"tr"'},{value:'"track"'},{value:'"u"'},{value:'"ul"'},{value:'"var"'},{value:'"video"'},{value:'"wbr"'}]}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"Defines the number of items inside the toolbar which should always be visible.\n_E.g.: `numberOfAlwaysVisibleItems={3}` would always show the first three items, no matter the size of the toolbar._\n\n__Note__: To preserve the intended design, it's not recommended to overwrite the `min-width` when using this prop.",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},overflowPopoverRef:{defaultValue:null,description:`Exposes the React Ref of the overflow popover.
This can be useful, for example, when wanting to close the popover on click or selection of a child element.`,name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},onClick:{defaultValue:null,description:"Fired if the `active` prop is set to true and the user clicks or presses Enter/Space on the `Toolbar`.",name:"onClick",required:!1,type:{name:"(event: CustomEvent<any>) => void"}},onOverflowChange:{defaultValue:null,description:"Fired when the content of the overflow popover has changed.",name:"onOverflowChange",required:!1,type:{name:"(event: { toolbarElements: HTMLElement[]; overflowElements: HTMLCollection; target: HTMLElement; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}export{_e as O,J as T,I as a,z as b};
//# sourceMappingURL=index-1bcd984e.js.map
