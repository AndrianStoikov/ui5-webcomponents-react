{"version":3,"file":"TableOfContent-b85e6b9b.js","sources":["../../.storybook/components/TableOfContent.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport tocbot from 'tocbot';\nimport classes from './ToC.module.css';\n\nfunction makeIds(headingSelector) {\n  const headings = document.querySelector('.sbdocs-wrapper').querySelectorAll(headingSelector);\n  const headingMap = {};\n\n  headings.forEach(function (heading) {\n    const id =\n      heading.id ??\n      heading.textContent\n        .trim()\n        .toLowerCase()\n        .split(' ')\n        .join('-')\n        .replace(/[!@#$%^&*():]/gi, '')\n        .replace(/\\//gi, '-');\n    headingMap[id] = !isNaN(headingMap[id]) ? ++headingMap[id] : 0;\n    if (headingMap[id]) {\n      heading.id = id + '-' + headingMap[id];\n    } else {\n      heading.id = id;\n    }\n  });\n}\n\nexport function TableOfContent({ headingSelector = 'h2:not(.noAnchor), h3:not(.noAnchor), h4:not(.noAnchor)' }) {\n  useEffect(() => {\n    makeIds(headingSelector);\n\n    tocbot.init({\n      tocSelector: '.js-toc',\n      contentSelector: '.sbdocs-wrapper',\n      headingSelector,\n      orderedList: false,\n      collapseDepth: 6,\n      hasInnerContainers: true\n    });\n\n    document.querySelectorAll('.toc-link').forEach((x) => x.setAttribute('target', '_self'));\n\n    return () => {\n      tocbot.destroy();\n    };\n  }, [headingSelector]);\n\n  return (\n    <>\n      <h3 className={`${classes.header} noAnchor`}>Contents</h3>\n      <div className={classes.fixedContainer}>\n        <div className={`js-toc ${classes.toc}`} id=\"toc-container\" />\n      </div>\n    </>\n  );\n}\n"],"names":["makeIds","headingSelector","headings","headingMap","heading","id","TableOfContent","useEffect","tocbot","x","jsxs","Fragment","jsx","classes"],"mappings":"2JAIA,SAASA,EAAQC,EAAiB,CAChC,MAAMC,EAAW,SAAS,cAAc,iBAAiB,EAAE,iBAAiBD,CAAe,EACrFE,EAAa,CAAA,EAEVD,EAAA,QAAQ,SAAUE,EAAS,CAC5B,MAAAC,EACJD,EAAQ,IACRA,EAAQ,YACL,KAAK,EACL,YACA,EAAA,MAAM,GAAG,EACT,KAAK,GAAG,EACR,QAAQ,kBAAmB,EAAE,EAC7B,QAAQ,OAAQ,GAAG,EACbD,EAAAE,CAAE,EAAK,MAAMF,EAAWE,CAAE,CAAC,EAAuB,EAAnB,EAAEF,EAAWE,CAAE,EACrDF,EAAWE,CAAE,EACfD,EAAQ,GAAKC,EAAK,IAAMF,EAAWE,CAAE,EAErCD,EAAQ,GAAKC,CACf,CACD,CACH,CAEO,SAASC,EAAe,CAAE,gBAAAL,EAAkB,2DAA6D,CAC9GM,OAAAA,EAAAA,UAAU,KACRP,EAAQC,CAAe,EAEvBO,EAAO,KAAK,CACV,YAAa,UACb,gBAAiB,kBACjB,gBAAAP,EACA,YAAa,GACb,cAAe,EACf,mBAAoB,EAAA,CACrB,EAEQ,SAAA,iBAAiB,WAAW,EAAE,QAASQ,GAAMA,EAAE,aAAa,SAAU,OAAO,CAAC,EAEhF,IAAM,CACXD,EAAO,QAAQ,CAAA,GAEhB,CAACP,CAAe,CAAC,EAIhBS,EAAAC,EAAA,CAAA,SAAA,CAAAC,EAAC,KAAG,CAAA,UAAW,GAAGC,EAAQ,kBAAmB,SAAQ,WAAA,EACpDD,EAAA,MAAA,CAAI,UAAWC,EAAQ,eACtB,SAAAD,EAAC,MAAI,CAAA,UAAW,UAAUC,EAAQ,MAAO,GAAG,eAAgB,CAAA,EAC9D,CACF,CAAA,CAAA,CAEJ"}