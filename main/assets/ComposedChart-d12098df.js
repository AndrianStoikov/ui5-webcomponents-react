import{c as M,d as T,e as Y,A as te,L as re,G as ae,h as ne,i as Z,D as ie,g as oe,B as se,f as le}from"./generateCategoricalChart-5c65bebd.js";import{u as ue,_ as K,i as z,a as I,b as j,c as ce,d as J,e as fe}from"./ChartContainer-838010cf.js";import{i as G,_ as H,a as W}from"./_baseForOwn-800a0312.js";import{R as d,r as pe}from"./index-ebeaab24.js";import{L as me}from"./Line-ff9ae1c2.js";import{S as he,Z as de}from"./Scatter-a83c4830.js";import{X as ve,Y as ye}from"./YAxisTicks-847ad5d5.js";var be=["layout","type","stroke","connectNulls","isRange","ref"];function Ae(e,t){if(e==null)return{};var n=ge(e,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ge(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(a){E(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ee(a.key),a)}}function Pe(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},q(e,t)}function Ee(e){var t=_e();return function(){var a=X(e),r;if(t){var o=X(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Se(this,r)}}function Se(e,t){if(t&&(R(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X(e)}function E(e,t,n){return t=ee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=we(e,"string");return R(t)==="symbol"?t:String(t)}function we(e,t){if(R(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(R(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R(e){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(e)}var De=function(t){return R(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},C=function(e){Oe(n,e);var t=Ee(n);function n(){var a;xe(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),E($(a),"state",{isAnimationFinished:!0}),E($(a),"id",ue("recharts-area-")),E($(a),"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),G(i)&&i()}),E($(a),"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),G(i)&&i()}),a}return Pe(n,[{key:"renderDots",value:function(r,o,l){var i=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(i&&!u)return null;var s=this.props,c=s.dot,h=s.points,f=s.dataKey,p=M(this.props),y=M(c,!0),O=h.map(function(b,g){var m=k(k(k({key:"dot-".concat(g),r:3},p),y),{},{dataKey:f,cx:b.x,cy:b.y,index:g,value:b.value,payload:b.payload});return n.renderDotItem(c,m)}),A={clipPath:r?"url(#clipPath-".concat(o?"":"dots-").concat(l,")"):null};return d.createElement(T,N({className:"recharts-area-dots"},A),O)}},{key:"renderHorizontalRect",value:function(r){var o=this.props,l=o.baseLine,i=o.points,u=o.strokeWidth,s=i[0].x,c=i[i.length-1].x,h=r*Math.abs(s-c),f=K(i.map(function(p){return p.y||0}));return z(l)&&typeof l=="number"?f=Math.max(l,f):l&&H(l)&&l.length&&(f=Math.max(K(l.map(function(p){return p.y||0})),f)),z(f)?d.createElement("rect",{x:s<c?s:s-h,y:0,width:h,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var o=this.props,l=o.baseLine,i=o.points,u=o.strokeWidth,s=i[0].y,c=i[i.length-1].y,h=r*Math.abs(s-c),f=K(i.map(function(p){return p.x||0}));return z(l)&&typeof l=="number"?f=Math.max(l,f):l&&H(l)&&l.length&&(f=Math.max(K(l.map(function(p){return p.x||0})),f)),z(f)?d.createElement("rect",{x:0,y:s<c?s:s-h,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var o=this.props.layout;return o==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,o,l,i){var u=this.props,s=u.layout,c=u.type,h=u.stroke,f=u.connectNulls,p=u.isRange;u.ref;var y=Ae(u,be);return d.createElement(T,{clipPath:l?"url(#clipPath-".concat(i,")"):null},d.createElement(Y,N({},M(y,!0),{points:r,connectNulls:f,type:c,baseLine:o,layout:s,stroke:"none",className:"recharts-area-area"})),h!=="none"&&d.createElement(Y,N({},M(this.props),{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:r})),h!=="none"&&p&&d.createElement(Y,N({},M(this.props),{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:o})))}},{key:"renderAreaWithAnimation",value:function(r,o){var l=this,i=this.props,u=i.points,s=i.baseLine,c=i.isAnimationActive,h=i.animationBegin,f=i.animationDuration,p=i.animationEasing,y=i.animationId,O=this.state,A=O.prevPoints,b=O.prevBaseLine;return d.createElement(te,{begin:h,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var m=g.t;if(A){var x=A.length/u.length,S=u.map(function(P,V){var L=Math.floor(V*x);if(A[L]){var w=A[L],B=I(w.x,P.x),D=I(w.y,P.y);return k(k({},P),{},{x:B(m),y:D(m)})}return P}),v;if(z(s)&&typeof s=="number"){var _=I(b,s);v=_(m)}else if(j(s)||ce(s)){var F=I(b,0);v=F(m)}else v=s.map(function(P,V){var L=Math.floor(V*x);if(b[L]){var w=b[L],B=I(w.x,P.x),D=I(w.y,P.y);return k(k({},P),{},{x:B(m),y:D(m)})}return P});return l.renderAreaStatically(S,v,r,o)}return d.createElement(T,null,d.createElement("defs",null,d.createElement("clipPath",{id:"animationClipPath-".concat(o)},l.renderClipRect(m))),d.createElement(T,{clipPath:"url(#animationClipPath-".concat(o,")")},l.renderAreaStatically(u,s,r,o)))})}},{key:"renderArea",value:function(r,o){var l=this.props,i=l.points,u=l.baseLine,s=l.isAnimationActive,c=this.state,h=c.prevPoints,f=c.prevBaseLine,p=c.totalLength;return s&&i&&i.length&&(!h&&p>0||!J(h,i)||!J(f,u))?this.renderAreaWithAnimation(r,o):this.renderAreaStatically(i,u,r,o)}},{key:"render",value:function(){var r=this.props,o=r.hide,l=r.dot,i=r.points,u=r.className,s=r.top,c=r.left,h=r.xAxis,f=r.yAxis,p=r.width,y=r.height,O=r.isAnimationActive,A=r.id;if(o||!i||!i.length)return null;var b=this.state.isAnimationFinished,g=i.length===1,m=fe("recharts-area",u),x=h&&h.allowDataOverflow,S=f&&f.allowDataOverflow,v=x||S,_=j(A)?this.id:A,F=M(l)||{r:3,strokeWidth:2},P=F.r,V=F.strokeWidth,L=De(l)?l:{},w=L.clipDot,B=w===void 0?!0:w,D=P*2+V;return d.createElement(T,{className:m},x||S?d.createElement("defs",null,d.createElement("clipPath",{id:"clipPath-".concat(_)},d.createElement("rect",{x:x?c:c-p/2,y:S?s:s-y/2,width:x?p:p*2,height:S?y:y*2})),!B&&d.createElement("clipPath",{id:"clipPath-dots-".concat(_)},d.createElement("rect",{x:c-D/2,y:s-D/2,width:p+D,height:y+D}))):null,g?null:this.renderArea(v,_),(l||g)&&this.renderDots(v,B,_),(!O||b)&&re.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:o.curPoints,prevBaseLine:o.curBaseLine}:r.points!==o.curPoints||r.baseLine!==o.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),n}(pe.PureComponent);E(C,"displayName","Area");E(C,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ae.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});E(C,"getBaseValue",function(e,t,n,a){var r=e.layout,o=e.baseValue,l=t.props.baseValue,i=l??o;if(z(i)&&typeof i=="number")return i;var u=r==="horizontal"?a:n,s=u.scale.domain();if(u.type==="number"){var c=Math.max(s[0],s[1]),h=Math.min(s[0],s[1]);return i==="dataMin"?h:i==="dataMax"||c<0?c:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]});E(C,"getComposedData",function(e){var t=e.props,n=e.item,a=e.xAxis,r=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,i=e.bandSize,u=e.dataKey,s=e.stackedData,c=e.dataStartIndex,h=e.displayedData,f=e.offset,p=t.layout,y=s&&s.length,O=C.getBaseValue(t,n,a,r),A=!1,b=h.map(function(m,x){var S=ne(m,u),v;y?v=s[c+x]:(v=S,H(v)?A=!0:v=[O,v]);var _=j(v[1])||y&&j(S);return p==="horizontal"?{x:Z({axis:a,ticks:o,bandSize:i,entry:m,index:x}),y:_?null:r.scale(v[1]),value:v,payload:m}:{x:_?null:a.scale(v[1]),y:Z({axis:r,ticks:l,bandSize:i,entry:m,index:x}),value:v,payload:m}}),g;return y||A?g=b.map(function(m){return p==="horizontal"?{x:m.x,y:!j(W(m,"value[0]"))&&!j(W(m,"y"))?r.scale(W(m,"value[0]")):null}:{x:j(W(m,"value[0]"))?null:a.scale(W(m,"value[0]")),y:m.y}}):p==="horizontal"?g=r.scale(O):g=a.scale(O),k({points:b,baseLine:g,layout:p,isRange:A},f)});E(C,"renderDotItem",function(e,t){var n;return d.isValidElement(e)?n=d.cloneElement(e,t):G(e)?n=e(t):n=d.createElement(ie,N({},t,{className:"recharts-area-dot"})),n});var Me=oe({chartName:"ComposedChart",GraphicalChild:[me,C,se,he],axisComponents:[{axisType:"xAxis",AxisComp:ve},{axisType:"yAxis",AxisComp:ye},{axisType:"zAxis",AxisComp:de}],formatAxisMap:le});export{C as A,Me as C};
//# sourceMappingURL=ComposedChart-d12098df.js.map
